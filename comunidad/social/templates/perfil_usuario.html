{% extends 'base.html' %} 
{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}
{% block content %}

<div class="profile-page">
  <div class="user-info">
    <h1>Perfil de {{ usuario.username }}</h1>

    {% if sigue_a %}
        <a href="{% url 'dejar_de_seguir_usuario' usuario.perfilusuario.id %}" class="btn btn-secondary">Dejar de seguir</a>
    {% else %}
        <a href="{% url 'seguir_usuario' usuario.perfilusuario.id %}" class="btn btn-primary">Seguir</a>
    {% endif %}

    
    <p>Biografía: {{ perfil.biografia }}</p>
    <p>Rol: {{ perfil.rol }}</p>
    <p>Puntos: {{ perfil.puntos }}</p>
  </div>

  <hr>

  <h2>Proyectos</h2>
  <ul>
    {% for proyecto in proyectos %}
      <li><a href="{% url 'detalle_proyecto' proyecto.pk %}">{{ proyecto.titulo }}</a></li>
    {% empty %}
      <li>Este usuario no ha creado ningún proyecto.</li>
    {% endfor %}
  </ul>

  <hr>

  <h2>Actividades Recientes</h2>
  <ul>
    {% for actividad in actividades %}
      <li>{{ actividad.tipo_actividad }} - {{ actividad.fecha_hora }}</li>
    {% empty %}
      <li>No hay actividades recientes.</li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
